# Meritz Gateway 환경 변수 예시 파일
# 실제 사용 시 .env로 복사하고 값을 수정하세요

# ==========================================
# 도메인 및 인증서 설정
# ==========================================
DOMAIN=meritz.com
EMAIL=admin@meritz.com

# ==========================================
# 타임존 설정
# ==========================================
TZ=Asia/Seoul

# ==========================================
# Traefik 설정
# ==========================================
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_API_INSECURE=false
TRAEFIK_ACME_EMAIL=admin@meritz.com

# SSL/TLS 설정
SSL_ENABLED=true
ACME_STAGING=false

# ==========================================
# Grafana 설정
# ==========================================
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin123
GF_USERS_ALLOW_SIGN_UP=false

# Grafana 외부 설정
GF_SERVER_ROOT_URL=https://grafana.meritz.com
GF_SERVER_DOMAIN=grafana.meritz.com

# ==========================================
# Prometheus 설정
# ==========================================
PROMETHEUS_RETENTION_TIME=200h
PROMETHEUS_STORAGE_PATH=/prometheus

# ==========================================
# 모니터링 설정
# ==========================================
MONITORING_ENABLED=true
METRICS_ENABLED=true
TRACING_ENABLED=true

# ==========================================
# 보안 설정
# ==========================================
ENABLE_BASIC_AUTH=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_AVERAGE=100
RATE_LIMIT_BURST=50

# ==========================================
# 로깅 설정
# ==========================================
LOG_LEVEL=INFO
ACCESS_LOG_ENABLED=true
LOG_FORMAT=json

# ==========================================
# 네트워크 설정
# ==========================================
NETWORK_NAME=meritz-network
MONITORING_NETWORK=monitoring

# ==========================================
# 컨테이너 설정
# ==========================================
RESTART_POLICY=unless-stopped

# ==========================================
# 헬스체크 설정
# ==========================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# ==========================================
# 리소스 제한 설정 (선택적)
# ==========================================
# Traefik
TRAEFIK_MEMORY_LIMIT=512m
TRAEFIK_CPU_LIMIT=0.5

# Prometheus
PROMETHEUS_MEMORY_LIMIT=2g
PROMETHEUS_CPU_LIMIT=1.0

# Grafana
GRAFANA_MEMORY_LIMIT=512m
GRAFANA_CPU_LIMIT=0.5

# Loki
LOKI_MEMORY_LIMIT=1g
LOKI_CPU_LIMIT=0.5

# ==========================================
# 백업 설정
# ==========================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # 매일 새벽 2시

# ==========================================
# 알림 설정 (Alertmanager 연동시)
# ==========================================
ALERTMANAGER_ENABLED=false
SLACK_WEBHOOK_URL=
SMTP_SERVER=
SMTP_FROM=
SMTP_TO=

# ==========================================
# 개발/테스트 설정
# ==========================================
DEBUG_MODE=false
DEV_MODE=false

# ==========================================
# 외부 서비스 연동 (선택적)
# ==========================================
# Let's Encrypt 설정
ACME_CASERVER=https://acme-v02.api.letsencrypt.org/directory
# 테스트용: https://acme-staging-v02.api.letsencrypt.org/directory

# 외부 DNS (선택적)
EXTERNAL_DNS_PROVIDER=
EXTERNAL_DNS_ZONE=

# 외부 모니터링 (선택적)
EXTERNAL_PROMETHEUS_URL=
EXTERNAL_GRAFANA_URL=

# ==========================================
# 성능 튜닝 설정
# ==========================================
# Docker 로그 설정
DOCKER_LOG_MAX_SIZE=100m
DOCKER_LOG_MAX_FILE=3

# Prometheus 설정 튜닝
PROMETHEUS_QUERY_MAX_CONCURRENCY=20
PROMETHEUS_QUERY_TIMEOUT=2m

# Grafana 성능 설정
GRAFANA_QUERY_TIMEOUT=60s
GRAFANA_MAX_DATA_POINTS=10000

# ==========================================
# 보안 강화 설정 (프로덕션)
# ==========================================
# 기본 인증 강화
STRONG_PASSWORD_POLICY=true
SESSION_TIMEOUT=3600

# IP 화이트리스트 (관리 도구 접근)
ADMIN_IP_WHITELIST=127.0.0.1,::1

# API 보안
API_RATE_LIMIT=1000
API_BURST_LIMIT=100

# ==========================================
# 사용자 정의 설정
# ==========================================
# 회사 정보
COMPANY_NAME=Meritz
COMPANY_EMAIL=admin@meritz.com
ADMIN_CONTACT=admin@meritz.com

# 커스텀 레이블
ENVIRONMENT=production
CLUSTER_NAME=meritz-gateway
DATACENTER=korea

# ==========================================
# 주의사항
# ==========================================
# 1. 프로덕션 환경에서는 반드시 강력한 패스워드 사용
# 2. EMAIL 주소는 Let's Encrypt 인증서 발급을 위해 유효해야 함
# 3. DOMAIN은 실제 DNS 설정과 일치해야 함
# 4. 메모리 제한은 서버 사양에 맞게 조정 필요
# 5. 백업 설정은 중요 데이터 보호를 위해 반드시 구성
