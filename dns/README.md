# DNS μ„λΉ„μ¤ (CoreDNS)

## π“‹ κ°μ”
CoreDNSλ¥Ό κΈ°λ°μΌλ΅ ν• λ‚΄λ¶€ DNS μ„λΉ„μ¤ μ κ³µ
- λ‚΄λ¶€ μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬ μ§€μ›
- DNS μΊμ‹± λ° ν¬μ›λ”©
- μ»¤μ¤ν…€ λ„λ©”μΈ κ΄€λ¦¬
- Kubernetes DNSμ™€ νΈν™

## π€ μ£Όμ” κΈ°λ¥
- **λ‚΄λ¶€ DNS ν•΄μ„**: μ„λΉ„μ¤ κ°„ λ„λ©”μΈ μ΄λ¦„ ν•΄μ„
- **DNS μΊμ‹±**: μ„±λ¥ ν–¥μƒμ„ μ„ν• DNS μΊμ‹
- **μ»¤μ¤ν…€ λ„λ©”μΈ**: λ‚΄λ¶€ λ„λ©”μΈ κ΄€λ¦¬
- **DNS ν¬μ›λ”©**: μ™Έλ¶€ DNS μ„λ²„λ΅ ν¬μ›λ”©
- **ν—¬μ¤μ²΄ν¬**: DNS μ„λΉ„μ¤ μƒνƒ λ¨λ‹ν„°λ§

## π λ„¤νΈμ›ν¬ μ„¤μ •
- **μ™Έλ¶€ ν¬νΈ**: 10600 (DNS)
- **λ‚΄λ¶€ ν¬νΈ**: 53
- **κ΄€λ¦¬ ν¬νΈ**: 10601 (λ©”νΈλ¦­/ν—¬μ¤μ²΄ν¬)

## π“ κµ¬μ„± νμΌ
- `config/Corefile`: CoreDNS μ„¤μ •
- `config/custom-domains.db`: μ»¤μ¤ν…€ λ„λ©”μΈ μ •μ
- `docker-compose.yml`: λ΅μ»¬ κ°λ°ν™κ²½
- `k8s/`: Kubernetes λ°°ν¬ μ„¤μ •

## π”§ μ‚¬μ©λ²•

### λ΅μ»¬ ν™κ²½ μ‹¤ν–‰
```bash
cd /Users/gossing/WorkPlace/infra-app/dns
docker-compose up -d
```

### DNS ν…μ¤νΈ
```bash
# λ‚΄λ¶€ μ„λΉ„μ¤ μ΅°ν
nslookup redis-master.cache.local 127.0.0.1 -port=10600

# μ™Έλ¶€ λ„λ©”μΈ μ΅°ν
nslookup google.com 127.0.0.1 -port=10600
```

## π“ λ¨λ‹ν„°λ§
- λ©”νΈλ¦­: http://localhost:10601/metrics
- ν—¬μ¤μ²΄ν¬: http://localhost:10601/health
